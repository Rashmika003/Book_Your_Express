<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://kit.fontawesome.com/62fff06bf6.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://kit.fontawesome.com/62fff06bf6.css" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
  >
  <link rel="stylesheet" href="CSS/bootstrap-additonal.css" />
  <link rel="stylesheet" href="CSS/forms-reg.css" />
  <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
    crossorigin="anonymous"></script>
  <!-- jquery-3 -->
  <title>Register</title>

</head>

<body class="background">
  <script src="bootstrap/bootstrap.js"></script>

  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html"><i class="fa-solid fa-paper-plane"></i> COMPANY NAME</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="index.html">
              <!-- ****icon link goes here**** </i>-->Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="login.html"><!-- ****icon link goes here****</i>-->Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="destinations.html"><!-- ****icon link goes here****</i>-->Destinations</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="ticketing.html"><!-- ****icon link goes here****</i>-->Book Tickets</a>
          </li>
          <li class="nav-item">
            <a class="nav-link last-child" href="contactUs.html"><!-- ****icon link goes here****</i>-->Contact Us</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container-form">
    <div class="title text-center h1">SIGN UP</div>
    <div class="content">
      <form name="signinForm">
        <div class="user-details">
          <div class="input-box">
            <span class="details">Full Name</span>
            <input type="text" id="fullName" name="fullName" placeholder="Enter your name" required minlength="5" />
            <!-- Erorr messages for full name section -->
            <p class="error" id="FullNameError1"></p>

            <p class="error" id="FullNameError2"></p>
            <p class="error" id="FullNameError3"></p>

            <span class="details">Username</span>
            <input id="userName" type="text" name="userName" placeholder="Enter your username" required minlength="5" />
            <!-- Erorr message for user name section -->
            <p class="error" id="userNameError1"></p>
            <p class="error" id="userNameError2"></p>
            <p class="error" id="userNameError3"></p>

            <span class="details">Email</span>
            <input id="email" type="email" name="email" placeholder="Enter your email" required />
            <p class="error" id="emailError1"></p><!-- Erorr message for email -->

            <span class="details">Phone Number</span>
            <input id="phoneNumber" type="number" name="phoneNumber" placeholder="Enter your number" required minlength="10" />
            <p class="error" id="phoneNoError1"></p><!-- Erorr message for phone number -->

            <span class="details">Password</span>
            <input id="password" type="password" name="password1" placeholder="Enter your password" required minlength="8" />
            <div class="passwordDetails">
              
              <div id="showAndHide">
                <p class="passwordShowAndHide" id="showPassword">show password</p> <!-- click this to show password -->
                <p class="passwordShowAndHide" id="hidePassword">hide password</p> <!-- click this to hide password -->
              </div>
              
              <!-- to indicate password -->
              <p class="passswordStrogness" id="weakPassword">Weak Password</p> 
              <p class="passswordStrogness" id="strongPassword">Strong Password</p>
              <p class="passswordStrogness" id="veryStrongPassword">Very Strong Password</p>
            </div>
            <p class="error" id="passwordError1"></p><!-- Erorr message for Password -->

            <span class="details">Confirm Password</span>
            <input type="password" name="password2" placeholder="Confirm your password" required minlength="8" />
          </div>
        </div>
        <div class="button">
          <input type="submit" value="Register" />
        </div>
      </form>
    </div>
  </div>

  <section id="footer">
    <div class="container">
      <footer class="py-5 my-4 end-footer">
        <ul class="nav justify-content-center pb-3 mb-3 borders">
          <li class="nav-item foot-items">
            <a href="index.html" class="nav-link foot-link text-center"><i
                class="fa-solid footer-icon fa-house"></i>Home</a>
          </li>
          <li class="nav-item foot-items">
            <a href="login.html" class="nav-link foot-link text-center"><i
                class="fa-solid footer-icon fa-viruses"></i>Log In</a>
          </li>
          <li class="nav-item foot-items">
            <a href="destinations.html" class="nav-link foot-link text-center"><i
                class="fa-solid footer-icon fa-money-check-dollar"></i>Destinations</a>
          </li>
          <li class="nav-item foot-items">
            <a href="ticketing.html" class="nav-link foot-link text-center"><i
                class="fa-solid footer-icon fa-circle-question"></i>Book
              Tickets</a>
          </li>
          <li class="nav-item foot-items">
            <a href="contactUs.html" class="nav-link foot-link text-center"><i
                class="fa-solid footer-icon fa-circle-info"></i>Contact
              Us</a>
          </li>
        </ul>
        <p class="text-center copyrights">
          Copyright 2023 BookYourExpress. All rights reserved
          <i class="fa-regular fa-copyright"></i> <br />
          BookYourExpress.lk is not responsible for any schedule changes,
          delays, or cancellations due to unforeseen circumstances.
        </p>
      </footer>
    </div>
  </section>

  <script>
    $(document).ready(function () {
      // this JQuery event selector check whether #fullName contains more then
      // 5 charactors , contains symbols and contains numbers
      // if symbol or number found in the input, then show() #FullNameError <p> tags
      $("#fullName").blur(function () {
        const fName = $(this).val();
        const symbols = "~!@#$%^&*()_+|?><,./`";
        const numbers = "1234567890";

        if (fName.length < 5) {
          $("#FullNameError1").text("Please enter more than 5 letters");
          $("#FullNameError1").show();
          document.getElementById("fullName").setCustomValidity("Invalid field."); 
          //this make fullName <input> invalid psudo class. so form cannot submit
        } else {
          $("#FullNameError1").hide();
          document.getElementById("fullName").setCustomValidity("");
          //this remove fullName <input> from invalid psudo class. so form can submit
        }

        for (let i = 0; i < symbols.length; i++) {
          if (fName.includes(symbols.charAt(i))) {
            $("#FullNameError2").text("Symboles are not allowed");
            $("#FullNameError2").show();
            document.getElementById("fullName").setCustomValidity("Invalid field."); 
          //this make fullName <input> invalid psudo class. so form cannot submit
            break;
          } else {
            $("#FullNameError2").hide();
            document.getElementById("fullName").setCustomValidity("");
          //this remove fullName <input> from invalid psudo class. so form can submit
          }
        }

        for (let i = 0; i < numbers.length; i++) {
          if (fName.includes(numbers.charAt(i))) {
            $("#FullNameError3").text("Numbers are not allowed");
            $("#FullNameError3").show();
            document.getElementById("fullName").setCustomValidity("Invalid field."); 
          //this make fullName <input> invalid psudo class. so form cannot submit
            break;
          } else {
            $("#FullNameError3").hide();
            document.getElementById("fullName").setCustomValidity("");
          //this remove fullName <input> from invalid psudo class. so form can submit
          }
        }
      });

      // this JQuery event selector check whether #userName contains
      // spaces or string length is greater than 5
      // if spaces found in the input, then show() #userNameError <p> tags
      $("#userName").blur(function () {
        const fName = $(this).val();
        const symbols = "~!$%^&*()+|?><,./`"; //@#_ only allows

        if (fName.length < 5) {
          $("#userNameError1").text("Please enter more than 5 letters");
          $("#userNameError1").show();
          // if this conditions true, html form validation itself do not let form to submit since minValue = 5;.
        } else {
          $("#userNameError1").hide();
        }

        for (let i = 0; i < symbols.length; i++) {
          if (fName.includes(symbols.charAt(i))) {
            $("#userNameError2").text("Only '@', '#', '_' are allowed");
            $("#userNameError2").show();
            document.getElementById("userName").setCustomValidity("Invalid field."); 
          //this make userName <input> invalid psudo class. so form cannot submit
            break;
          } else {
            $("#userNameError2").hide();
            document.getElementById("userName").setCustomValidity("");
          //this remove userName <input> from invalid psudo class. so form can submit
          }
        }

        if (fName.includes(" ")) {
          $("#userNameError3").text("Spaces are not allowed");
          $("#userNameError3").show();
          document.getElementById("userName").setCustomValidity("Invalid field."); 
          //this make userName <input> invalid psudo class. so form cannot submit
        } else {
          $("#userNameError3").hide();
          document.getElementById("fullName").setCustomValidity("");
          //this remove userName <input> from invalid psudo class. so form can submit
        }
      });

      // validation for email
      $("#email").blur(function(){
        const emailInput = $(this).val();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Email validation regular expression
        
        if(!emailRegex.test(emailInput)){  //check reguler expression and if match this .test() returns ture
          $("#emailError1").text("Email is not valid");
          $("#emailError1").show();
          document.getElementById("email").setCustomValidity("Invalid field."); 
          //this make email <input> invalid psudo class. so form cannot submit
        }
        else{
          $("#emailError1").hide();
          document.getElementById("email").setCustomValidity("");
          //this remove email <input> from invalid psudo class. so form can submit
        }
    }); 

    // validation for phone number
    $("#phoneNumber").blur(function(){
      const pNumber = $(this).val();
      if(pNumber.length < 10){   //check length
        $("#phoneNoError1").text("phone number is short");
        $("#phoneNoError1").show();
        document.getElementById("phoneNumber").setCustomValidity("Invalid field."); 
          //this make phoneNumber <input> invalid psudo class. so form cannot submit
      }
      else{
        $("#phoneNoError1").hide();
        document.getElementById("phoneNumber").setCustomValidity("");
          //this remove phoneNumber <input> from invalid psudo class. so form can submit
      }
    });

    // check 1st password
    $("#password").on({
      keyup:function(){
        PasswordChecker();
      },
      blur:function(){
        PasswordChecker();
      }
    });

    function PasswordChecker(){
      const passWord1 = $("#password").val();
      let includeSymbols = false;
      let includeNumbers = false;

      const symbols = "~!@#$%^&*()_+|?><,./`";
      const numbers = "1234567890";
      
      //password length checke
      if (passWord1.length < 8) {
        $("#passwordError1").text("Minimum length is 8 charactors");
        $("#passwordError1").show();
      } else {
        $("#passwordError1").hide();
      }

      //set "includeSymboles" to ture if password1 has any symboles
      for (let i = 0; i < symbols.length; i++) {
        if (passWord1.includes(symbols.charAt(i))) {
          includeSymbols = true;
          break;
        } else {
          includeSymbols = false;
        }
      }
      //set "incluneNumbers" to true if password1 has any numbers
      for (let i = 0; i < numbers.length; i++) {
        if (passWord1.includes(numbers.charAt(i))) {
          includeNumbers = true;
          break;
        } else {
          includeNumbers = false;
        }
      }

      // if password1 do not has any symboles or numbers, #weekpassword is show()
      if(!includeSymbols && !includeNumbers){
        $("#weakPassword").show();
        $("#strongPassword").hide();
        $("#veryStrongPassword").hide();
      }

      // if password1  has any symboles or numbers, #strongPassword is show()
      if(includeSymbols || includeNumbers){
        $("#weakPassword").hide();
        $("#strongPassword").show();
        $("#veryStrongPassword").hide();
      }

      // if password1 has any symboles and any number, #veryStrongPassword is show()
      if(includeSymbols && includeNumbers){
        $("#weakPassword").hide();
        $("#strongPassword").hide();
        $("#veryStrongPassword").show();
      }
    };


    //=====================================under developing stage===============================================================

    // password show and hide when click the "show password" or "hide password"
    
    $("#showAndHide").click(function(){
      showAndHidePassword();
    }); 
    let isShowAndHideClicked = false;
    function showAndHidePassword(){
      if(!isShowAndHideClicked){
          $("#showPassword").show();
          $("#hidePassword").hide();
          isShowAndHideClicked = true;
        }
        if(isShowAndHideClicked){
          $("#showPassword").hide();
          $("#hidePassword").show();
          isShowAndHideClicked = false;
        }
    };


      //!!!!!!!!!! show hide buttones are not working. find a way to make them work




  });//end of documet.redy ()

  </script>

</body>

</html>



